services:
  logger.channel.alogin:
    parent: logger.channel_base
    arguments: ['alogin']
  alogin.authenticator:
    class: Drupal\alogin\AuthenticatorService
    arguments: ['@config.factory', '@tempstore.private', '@current_user', '@database']
  alogin.commands:
    class: \Drupal\alogin\Commands\MfaReset
    arguments: ['@database']
    tags:
      - { name: drush.command }
  alogin.login_redirect:
    class: Drupal\alogin\EventSubscriber\MfaRedirectSubscriber
    arguments: ['@current_user', '@alogin.authenticator', '@current_route_match', '@config.factory', '@messenger', '@entity_type.manager']
    tags:
      - { name: event_subscriber }
