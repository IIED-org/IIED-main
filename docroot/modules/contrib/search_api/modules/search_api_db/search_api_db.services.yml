services:
  _defaults:
    autowire: true
    autoconfigure: true

  logger.channel.search_api_db:
    parent: logger.channel_base
    arguments: ['search_api_db']

  search_api_db.database_compatibility:
    class: Drupal\search_api_db\DatabaseCompatibility\GenericDatabase
    arguments: ['@database', '@transliteration']
    tags:
      - { name: backend_overridable }
  Drupal\search_api_db\DatabaseCompatibility\DatabaseCompatibilityHandlerInterface: '@search_api_db.database_compatibility'

  mysql.search_api_db.database_compatibility:
    class: Drupal\search_api_db\DatabaseCompatibility\MySql

  pgsql.search_api_db.database_compatibility:
    class: Drupal\search_api_db\DatabaseCompatibility\Pgsql

  sqlite.search_api_db.database_compatibility:
    class: Drupal\search_api_db\DatabaseCompatibility\CaseSensitiveDatabase
