***************
*** 6,11 ****
  use Drupal\Core\Cache\CacheableDependencyInterface;
  use Drupal\Core\Cache\Context\CacheContextsManager;
  use Drupal\Core\DependencyInjection\ContainerBuilder;
  use Drupal\Core\Session\AccountInterface;
  use Drupal\search_api\IndexInterface;
  use Drupal\search_api_autocomplete\SearchInterface;
--- 6,12 ----
  use Drupal\Core\Cache\CacheableDependencyInterface;
  use Drupal\Core\Cache\Context\CacheContextsManager;
  use Drupal\Core\DependencyInjection\ContainerBuilder;
+ use Drupal\Core\Render\ElementInfoManagerInterface;
  use Drupal\Core\Session\AccountInterface;
  use Drupal\search_api\IndexInterface;
  use Drupal\search_api_autocomplete\SearchInterface;
***************
*** 41,47 ****
    protected function setUp() {
      parent::setUp();
  
-     $this->autocompleteHelper = new AutocompleteHelper();
      $this->search = $this->createMock(SearchInterface::class);
      $this->search->method('id')->willReturn('test');
      $this->search->method('getCacheContexts')->willReturn(['test']);
--- 42,49 ----
    protected function setUp() {
      parent::setUp();
  
+     $element_info = $this->createMock(ElementInfoManagerInterface::class);
+     $this->autocompleteHelper = new AutocompleteHelper($element_info);
      $this->search = $this->createMock(SearchInterface::class);
      $this->search->method('id')->willReturn('test');
      $this->search->method('getCacheContexts')->willReturn(['test']);
