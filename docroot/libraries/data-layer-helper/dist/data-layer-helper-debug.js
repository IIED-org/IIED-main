(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function f(b,a){switch(a){case 1:console.log(b);break;case 2:console.warn(b);break;case 3:console.error(b)}};/*
 jQuery v1.9.1 (c) 2005, 2012
 jQuery Foundation, Inc. jquery.org/license.
*/
var g=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)\]/;function l(b){return null==b?String(b):(b=g.exec(Object.prototype.toString.call(Object(b))))?b[1].toLowerCase():"object"}function n(b,a){return Object.prototype.hasOwnProperty.call(Object(b),a)}function p(b){if(!b||"object"!=l(b)||b.nodeType||b==b.window)return!1;try{if(b.constructor&&!n(b,"constructor")&&!n(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var a in b);return void 0===a||n(b,a)};function q(b,a){var c={},d=c;b=b.split(".");for(var e=0;e<b.length-1;e++)d=d[b[e]]={};d[b[b.length-1]]=a;return c}function r(b,a){var c=!b._clear,d;for(d in b)if(n(b,d)){var e=b[d];"array"===l(e)&&c?("array"===l(a[d])||(a[d]=[]),r(e,a[d])):p(e)&&c?(p(a[d])||(a[d]={}),r(e,a[d])):a[d]=e}delete a._clear};/*
 Copyright 2012 Google Inc. All rights reserved. */
function t(b,a,c){a=void 0===a?{}:a;c=void 0===c?!1:c;"function"===typeof a?(f("Legacy constructor was used. See README for latest usage.",2),a={listener:a,listenToPast:c,processNow:!0,commandProcessors:{}}):a={listener:a.listener||function(){},listenToPast:a.listenToPast||!1,processNow:void 0===a.processNow?!0:a.processNow,commandProcessors:a.commandProcessors||{}};this.a=b;this.l=a.listener;this.j=a.listenToPast;this.g=this.h=!1;this.c={};this.f=[];this.b=a.commandProcessors;this.i=w(this);var d=
this.a.push,e=this;this.a.push=function(){var h=[].slice.call(arguments,0),m=d.apply(e.a,h);x(e,h);return m};a.processNow&&this.process()}
t.prototype.process=function(){this.h&&f("Process has already been run. This method should only run a single time to prepare the helper.",3);this.registerProcessor("set",function(){var c={};1===arguments.length&&"object"===l(arguments[0])?c=arguments[0]:2===arguments.length&&"string"===l(arguments[0])&&(c=q(arguments[0],arguments[1]));return c});this.h=!0;for(var b=this.a.length,a=0;a<b;a++)x(this,[this.a[a]],!this.j)};
t.prototype.get=function(b){var a=this.c;b=b.split(".");for(var c=0;c<b.length;c++){if(void 0===a[b[c]])return;a=a[b[c]]}return a};t.prototype.flatten=function(){this.a.splice(0,this.a.length);this.a[0]={};r(this.c,this.a[0])};t.prototype.registerProcessor=function(b,a){b in this.b||(this.b[b]=[]);this.b[b].push(a)};
function x(b,a,c){c=void 0===c?!1:c;if(b.h&&(b.f.push.apply(b.f,a),!b.g))for(;0<b.f.length;){a=b.f.shift();if("array"===l(a))a:{var d=b.c;"string"===l(a[0])||f("Error processing command, no command was run. The first argument must be of type string, but was of type "+(typeof a[0]+".\nThe command run was "+a),2);for(var e=a[0].split("."),h=e.pop(),m=a.slice(1),k=0;k<e.length;k++){if(void 0===d[e[k]]){f("Error processing command, no command was run as the object at "+(e+" was undefined.\nThe command run was "+
a),2);break a}d=d[e[k]]}try{d[h].apply(d,m)}catch(u){f("An exception was thrown by the method "+(h+", so no command was run.\nThe method was called on the data layer object at the location ")+(e+"."),3)}}else if("arguments"===l(a)){e=b;h=[];m=a[0];if(e.b[m])for(d=e.b[m].length,k=0;k<d;k++)h.push(e.b[m][k].apply(e.i,[].slice.call(a,1)));b.f.push.apply(b.f,h)}else if("function"==typeof a)try{a.call(b.i)}catch(u){f("An exception was thrown when running the method "+(a+", execution was skipped."),3),
f(u,3)}else if(p(a))for(var v in a)r(q(v,a[v]),b.c);else continue;c||(b.g=!0,b.l(b.c,a),b.g=!1)}}t.prototype.registerProcessor=t.prototype.registerProcessor;t.prototype.flatten=t.prototype.flatten;t.prototype.get=t.prototype.get;t.prototype.process=t.prototype.process;window.DataLayerHelper=t;function w(b){return{set:function(a,c){r(q(a,c),b.c)},get:function(a){return b.get(a)}}};})();
